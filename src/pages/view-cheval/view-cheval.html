 <!--
  Generated template for the ViewCheval page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
 <ion-header>

  <ion-toolbar class="toolbarimg">
    <button ion-button menuToggle="left">
      <ion-icon name="menu"></ion-icon>
  </button>

    <ion-title> <img src="assets/img/logo1.png"   /> </ion-title>

    <button ion-button menuToggle="right" end>
      <ion-icon name="search"></ion-icon>
    </button>


  </ion-toolbar>

  <ion-navbar color="navb">
    <ion-title>{{cheval.Cheval.nom}} {{cheval.Cheval.ne}}</ion-title>
  </ion-navbar>

</ion-header>

<ion-content>



   <div class="header_cheval">
    <b></b>
  </div>
  <div class="des_cheval">
   
    <div *ngIf="cheval.Cheval.sexe==1"> <b> Sexe : </b> M </div> 
     <div *ngIf="cheval.Cheval.sexe==2"> <b>Sexe : </b> F  </div>
   <div  *ngIf="cheval.Cheval.race_id==1"><b>Race : </b> P.S.A </div>   
    <div *ngIf="cheval.Cheval.race_id==2"> <b>Race : </b> (TN) </div> 
 
   <div><b>Par : </b>{{cheval.Cheval.nom_p}}<b> & </b> {{cheval.Cheval.nom_m}} </div>

    <b> Éleveur :</b>{{cheval.Eleveur.nom}} {{cheval.Eleveur.prenom}}
  </div>
  <div class="des_cheval2">
  </div>


    <div padding style="padding-bottom: 13px;">
    <ion-segment [(ngModel)]="vcheval">
      <ion-segment-button value="Résumé"  (click)="DisplayResume();">
        Résumé
      </ion-segment-button>
      <ion-segment-button value="performance" (click)="DisplayPerf();">
        Performances
      </ion-segment-button>
    </ion-segment>
  </div>
 

  <button ion-button  style=" margin-right: 8px ;  margin-left:  15px;" (click)="displayImage() ; clickFunction()" >
    <ion-icon [name]="(isAdded) ? 'remove' : 'add'"> Photo</ion-icon>
  </button>

  <button ion-button  style=" margin-right: 6px"  (click)="displayProduction() ; clickFunction1()">
    <ion-icon [name]="(isAdded1) ? 'remove' : 'add'"> Production</ion-icon>
  </button>
  <button ion-button  style=" margin-right: 9px" (click)="displayGenealogie(); clickFunction2()">
    <ion-icon [name]="(isAdded2) ? 'remove' : 'add'" > Généalogie</ion-icon>
  </button>
        <div *ngIf="isDisplayProd" style= "margin-top: 10px ;">
          
          <div *ngIf="production !=''">
            <h2> Détail Production</h2>
            <ion-row style="background-color: #eae2cd ; font-weight: bold ;">
              <ion-col>Nom</ion-col>
              <ion-col>Ne</ion-col>
              <ion-col>Sexe</ion-col>
              <ion-col>Mère</ion-col>
              <ion-col>P.Mère</ion-col>
            </ion-row>
            <ion-row *ngFor="let p of production">
              <ion-col> {{p.Cheval.nom}}</ion-col>
            
              <ion-col> {{p.Cheval.ne}}</ion-col>
                <ion-col> 
                <p *ngIf= "p.Cheval.sexe==1" > M </p>
              <p *ngIf= "p.Cheval.sexe==2" > F </p>
              </ion-col>
              <ion-col> {{p.Cheval.nom_m}}</ion-col>
               <ion-col> {{p.Cheval.nom_pm}}</ion-col>
            </ion-row>
          </div>
          <div *ngIf="production ==''">
            <h1>pas de production</h1>
          </div>

        </div>
        <div *ngIf="isDisplayGen" style= "margin-top: 10px ;text-decoration: underline ; font-weight: bold;">
          <ion-row>
            <ion-col></ion-col>
            <ion-col></ion-col>
            <ion-col><p *ngIf="genealogiePere !=''">{{genealogiePere.Cheval.nom_p}} {{genealogiePere.Cheval.ne_p}}</p></ion-col>

          </ion-row>
          <ion-row>
            <ion-col></ion-col>
            <ion-col>{{cheval.Cheval.nom_p}} {{cheval.Cheval.ne_p}}</ion-col>
            <ion-col></ion-col>

          </ion-row>
          <ion-row>
            <ion-col></ion-col>
            <ion-col></ion-col>
            <ion-col><p *ngIf="genealogiePere!=''">{{genealogiePere.Cheval.nom_m}} {{genealogiePere.Cheval.ne_m}}</p></ion-col>
          </ion-row>

          <ion-row>
            <ion-col>{{cheval.Cheval.nom}} {{cheval.Cheval.ne}}</ion-col>
            <ion-col></ion-col>
            <ion-col></ion-col>

          </ion-row>
          <ion-row>
            <ion-col></ion-col>
            <ion-col></ion-col>
            <ion-col>{{cheval.Cheval.nom_pm}} {{cheval.Cheval.ne_pm}}</ion-col>

          </ion-row>
          <ion-row>
            <ion-col></ion-col>
            <ion-col>{{cheval.Cheval.nom_m}} {{cheval.Cheval.ne_m}}</ion-col>
            <ion-col></ion-col>

          </ion-row>
          <ion-row>
            <ion-col></ion-col>
            <ion-col></ion-col>
            <ion-col>
              <p *ngIf="genealogieMere !=''">{{genealogieMere.Cheval.nom_m}} </p>
            </ion-col>

          </ion-row>
        </div>
      
        <b *ngIf="cheval.Cheval.photo== '' ">
             <img *ngIf="isDisplayImage"  src="http://sfaxenligne.com/chevaux/files/silhouette.jpg" width="85%" /> 
        </b>
        <b *ngIf="cheval.Cheval.photo != '' ">   
          <img *ngIf="isDisplayImage"  src="http://sfaxenligne.com/chevaux/files/{{cheval.Cheval.photo}}" style="margin-left: 10px;" imageViewer width="95%" /> 
        </b>
    

      
  <div [ngSwitch]="vcheval">
    <ion-grid *ngSwitchCase="'Résumé'">
     
<div *ngIf="isDisplayResume">
      <ion-row style="background-color: #eae2cd ; text-align: center;">

        <ion-col col-2>
          <b>   Date </b>
        </ion-col>
        <ion-col col-4>
          <b>Nb.Crs</b>
        </ion-col>
        <ion-col col-2>
          <b>   Vict</b>
        </ion-col>
        <ion-col col-2>
          <b> Plc</b>
        </ion-col>
        <ion-col col-4>
          <b>  All.Tot </b>
        </ion-col>

      </ion-row>
       <ion-row *ngFor="let  item of cheval1  " style="text-align: center;">
        <ion-col width-20><b>{{item["0"].annee}}</b> </ion-col>

        <ion-col width-20 > {{filterDataAuto(item["0"].annee).length}} </ion-col>

        <ion-col width-15 > {{reduceDataVict(filterDataAuto(item["0"].annee))}} </ion-col>
        <ion-col width-15 >{{filterDataAuto(item["0"].annee).length - reduceDataVict(filterDataAuto(item["0"].annee))}} </ion-col>
        <ion-col width-30 >{{reduceDataAuto(filterDataAuto(item["0"].annee )) | number }}</ion-col>

      </ion-row>
      <ion-row  style="text-align: center;">
        <ion-col col-2><b> Total </b></ion-col>
        <ion-col col-4 > <b> {{cheval.CourseHasCheval.length}} </b></ion-col>
        <ion-col col-2 ><b> {{TotalVictoire}} </b></ion-col>
        <ion-col col-2 ><b>{{cheval.CourseHasCheval.length - TotalVictoire}}</b> </ion-col>
        <ion-col col-4 ><b> {{members | groubby | number}}</b> </ion-col>
      </ion-row> 
</div>

    </ion-grid>
    <ion-grid *ngSwitchCase="'performance'" >
<div *ngIf="isDisplayPerf">
      <ion-row style="background-color: #eae2cd">
        <ion-col width-20>
        <b>  Date</b>
        </ion-col>

        <ion-col width-30>
        <b>  Prix</b>
        </ion-col>

        <ion-col width-15 style=" padding:5px 0px 5px 0px;border-right-width: 0px; ">
        <b>  Catég</b>
        </ion-col>
       <ion-col width-15 style=" padding:5px 0px 5px 0px; border-right-width: 0px;">
        <b>  Rang</b>
        </ion-col>
        <ion-col width-20 style=" padding: 5px 0px 5px 0px;">
        <b>  Gains (DT)</b>
        </ion-col>
      </ion-row>

      <ion-row *ngFor="let m of members"   (click)="View(m)">
        <ion-col width-20 style="text-decoration-line: underline;" >
         <b>{{m.Course.date  | date : 'dd/MM/yy'}}</b>
        </ion-col>
        <ion-col width-30>
          {{m.Course.nom_du_prix}}
        </ion-col>
        <ion-col width-15 style="text-align: center ">
          GR.{{m.Course.categorie_id}}
        </ion-col>
          <ion-col width-15 style="text-align: center">
          <b>{{m.CourseHasCheval.rang}}</b>
        </ion-col>

        <ion-col width-20 style="text-align: center">
          {{m.CourseHasCheval.part_propritaire | number}}
        </ion-col>
      
      </ion-row>
  
</div>
    </ion-grid>


  </div>  


 
</ion-content> 
     <ion-footer >
    <ion-toolbar color="navb" style="min-height: 47px; padding : 0px; text-align : center ;">
         <ion-title class="style1"> <img src="assets/img/logo.png" /></ion-title>
    </ion-toolbar>
  </ion-footer> 

        <!--<ion-row *ngFor="let m of members ">
       
       
          <ion-col >
               {{m.Course.date }}
          </ion-col >

          <ion-col >
             {{ m.CourseHasCheval.part_propritaire}}
          </ion-col >

          <ion-col >
             {{ m.Course.distance}}
          </ion-col >
        
      </ion-row>-->